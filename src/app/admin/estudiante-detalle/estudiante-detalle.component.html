<h2>ğŸ” Buscar Estudiante</h2>

<form (ngSubmit)="buscar()" class="form-busqueda">
  <mat-form-field appearance="outline">
    <mat-label>CÃ³digo Universitario</mat-label>
    <input matInput [(ngModel)]="codigo" name="codigo" required />
  </mat-form-field>
  <button mat-raised-button color="primary" type="submit">Buscar</button>
</form>

<div *ngIf="estudiante" class="perfil-container">
  <div class="card-perfil">
    <div class="perfil-izq">
      <img class="perfil-foto"
           [src]="'http://localhost:4040/persona-ms/personas/img/' + estudiante.foto"
           (error)="fotoError($event)" />
    </div>
    <div class="perfil-der">
      <h2>{{ estudiante.nombre }} {{ estudiante.apellido }}</h2>
      <p><strong>CÃ³digo:</strong> {{ estudiante.codigo }}</p>
      <p><strong>EP:</strong> {{ estudiante.ep }}</p>
      <p><strong>DNI:</strong> {{ estudiante.dni }}</p>
      <p><strong>TelÃ©fono:</strong> {{ estudiante.telefono }}</p>
    </div>
  </div>

  <div class="card-practicas">
    <h3>ğŸ¢ PrÃ¡ctica Profesional</h3>

    <div *ngIf="practica">
      <p><strong>Empresa:</strong> {{ practica.empresaNombre }}</p>
      <p><strong>Oferta:</strong> {{ practica.ofertaTitulo }}</p>
      <p><strong>Fecha de inicio:</strong> {{ practica.fechaInicio }}</p>

      <h4>ğŸ“ Evidencias Subidas</h4>
      <ul *ngIf="evidencias.length > 0">
        <li *ngFor="let evidencia of evidencias">
          {{ evidencia.descripcion }} â€”
          <a [href]="evidencia.url" target="_blank">Ver archivo</a>
        </li>
      </ul>
      <p *ngIf="evidencias.length === 0" style="color: gray;">No hay evidencias aÃºn.</p>
    </div>

    <div *ngIf="!practica" style="margin-top: 15px; color: red;">
      Este estudiante no tiene una prÃ¡ctica activa.
    </div>
  </div>
</div>

<!-- Solo mostrar mensaje de error si ya se presionÃ³ "Buscar" -->
<div *ngIf="buscado && estudiante === null">
  <p style="color: red;">Estudiante no encontrado.</p>
</div>