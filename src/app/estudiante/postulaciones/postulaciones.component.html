<h2>Mis Postulaciones</h2>
<table>
  <thead>
  <tr>
    <th>Oferta</th>
    <th>Empresa</th>
    <th>Fecha</th>
    <th>Estado</th>
    <th>Documento</th>
    <th>Estado del Documento</th> <!-- âœ… NUEVA COLUMNA -->
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let p of postulaciones">
    <td>{{ p.oferta?.titulo || 'N/A' }}</td>
    <td>{{ p.oferta?.empresa?.nombre || 'N/A' }}</td>
    <td>{{ p.fechaPostulacion | date: 'dd/MM/yyyy' }}</td>
    <td [ngClass]="'estado-' + p.estado.toLowerCase()">
      {{ p.estado }}
    </td>

    <!-- Botones de acciÃ³n -->
    <td class="acciones">
      <ng-container *ngIf="p.estado === 'EN_REVISION'">
        <button class="btn-descargar" (click)="descargarPlantilla(p.id)">ðŸ“¥ Descargar</button>
        <label class="btn-subir">
          ðŸ“¤ Subir
          <input type="file" (change)="subirArchivo($event, p.id)" hidden>
        </label>

        <!-- ðŸ”´ Mensaje si el documento fue rechazado -->
        <div *ngIf="documentos[p.id]?.estado === 'RECHAZADO'" class="alerta-rechazado">
          âš  Tu documento fue rechazado. Por favor, vuelve a subirlo.
        </div>
      </ng-container>
    </td>

    <!-- âœ… NUEVA COLUMNA: Estado del documento -->
    <td>
      <ng-container *ngIf="documentos[p.id]; else sinDoc">
        {{ documentos[p.id].estado }}
      </ng-container>
      <ng-template #sinDoc>â€”</ng-template>
    </td>
  </tr>
  </tbody>
</table>
